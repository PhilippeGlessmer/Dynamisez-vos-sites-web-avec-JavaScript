<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Partie III - Chapitre 8 - Mise en pratique</title>

    <style>
        #overlay {
            display : none; /* Par défaut, on cache l'overlay */

            position: absolute;
            top: 0; 
            left: 0;
            width: 100%; 
            height: 100%;
            text-align: center; /* Pour centrer l'image que l'overlay contiendra */

            /* Ci-dessous, j'applique un background de couleur noire et d'opacité 0.6. Il s'agit d'une propriété CSS3. */
            background-color: rgba(0,0,0,0.6);
        }

        #overlay img {
            margin-top: 100px;
        }

        p {
            margin-top: 300px;
            text-align: center;
        }
    </style>
</head>

<body>

    <p>
        <a href="imgs/1.jpg" title="Afficher l'image originale"><img src="imgs/1_min.jpg" alt="Miniature" /></a>
        <a href="imgs/2.jpg" title="Afficher l'image originale"><img src="imgs/2_min.jpg" alt="Miniature" /></a>
        <a href="imgs/3.jpg" title="Afficher l'image originale"><img src="imgs/3_min.jpg" alt="Miniature" /></a>
        <a href="imgs/4.jpg" title="Afficher l'image originale"><img src="imgs/4_min.jpg" alt="Miniature" /></a>
    </p>

    <div id="overlay"></div>

    <script>

        var links = document.getElementsByTagName('a'),
            linksLen = links.length;

        for (var i = 0 ; i < linksLen ; i++) {

            links[i].onclick = function() { // J'utilise le DOM-0, mais vous pouvez très bien utiliser le DOM-2 !
                displayImg(this);           // On appelle notre fonction pour afficher les images
                return false;               // Et on bloque la redirection
            };

        }

        function displayImg(link) {

            var img = new Image(),
                overlay = document.getElementById('overlay');

            img.onload = function() {
                overlay.innerHTML = '';
                overlay.appendChild(img);
            };

            img.src = link.href;
            overlay.style.display = 'block';
            overlay.innerHTML = '<span>Chargement en cours...</span>';

        }

        document.getElementById('overlay').onclick = function() {
            this.style.display = 'none';
        };

    </script>

</body>
</html>