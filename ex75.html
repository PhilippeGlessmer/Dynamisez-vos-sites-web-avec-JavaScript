<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Partie II - Chapitre 5 - Exemple 5</title>
  </head>

  <body>

    <style type="text/css">
      #parent, #child {
        position: absolute;
        top: 50px; left: 100px;
      }
      
      #parent {
        width: 200px; height: 200px;
        background-color: blue;
      }
      
      #child {
        width: 50px; height: 50px;
        background-color: red;
      }
    </style>

    <div id="parent">
      <div id="child"></div>
    </div>

    <script>
      var parent = document.getElementById('parent');
      var child = document.getElementById('child');
      
      alert("Sans la fonction de calcul, la position de l'élément enfant est : \n\n" +
            'offsetTop : ' + child.offsetTop + 'px\n' +
            'offsetLeft : ' + child.offsetLeft + 'px');
      
      
      
      function getOffset(el) { // Notre fonction qui calcul le positionnement complet
        var top = 0, left = 0;
        
        do {
            top += el.offsetTop;
            left += el.offsetLeft;
        } while (el = el.offsetParent); // Tant que "el" reçoit un "offsetParent" valide alors on additionne les valeurs des offset.
        
          return { // On retourne un objet, ça nous permet de retourner les deux valeurs calculées.
              top: top,
              left: left
          };
      }
      
      
      
      alert("Avec la fonction de calcul, la position de l'élément enfant est : \n\n" +
            'offsetTop : ' + getOffset(child).top + 'px\n' +
            'offsetLeft : ' + getOffset(child).left + 'px');
    </script>

  </body>
</html>