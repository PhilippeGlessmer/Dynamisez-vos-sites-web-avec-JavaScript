<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Partie IV - Chapitre 3 - Exemple 3</title>

    <style>
      iframe {
        display: none;
      }

      #uploadInfos {
        margin-top: 25px;
      }
    </style>
  </head>

  <body>

    <form id="uploadForm" enctype="multipart/form-data" action="upload.php" target="uploadFrame" method="post">
        <label for="uploadFile">Fichier :</label>
        <input id="uploadFile" name="uploadFile" type="file" />
        <br /><br />
        <input id="uploadSubmit" type="submit" value="Upload !" />
    </form>

    <div id="uploadInfos">
        <div id="uploadStatus">Aucun upload en cours</div>
        <iframe id="uploadFrame" name="uploadFrame"></iframe>
    </div>

    <script>
      
    function uploadEnd(result) {
        document.getElementById('uploadStatus').innerHTML = result;
    }

    document.getElementById('uploadForm').addEventListener('submit', function() {
        document.getElementById('uploadStatus').innerHTML = 'Upload en cours...';
    }, true);

    </script>

  </body>
</html>