<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Partie V - Chapitre 4 - Exemple 5</title>
  </head>

  <body>

    <input id="file" type="file" />

    <script>

    var fileInput = document.querySelector('#file');

    fileInput.addEventListener('change', function() {

        var xhr = new XMLHttpRequest();

        xhr.open('POST', 'upload.html'); // Rappelons qu'il est obligatoire d'utiliser la méthode POST quand on souhaite utiliser un FormData

        xhr.addEventListener('load', function() {
            alert('Upload terminé !');
        }, false);

        var form = new FormData();

        form.append('file', fileInput.files[0]);

        xhr.send(form);

    }, false);

    </script>

  </body>
</html>